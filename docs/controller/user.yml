/users:
  get:
    tags:
      - User
    description: List of users
    security:
      - bearerAuth: []
    produces:
      - application/json
    parameters:
      - name: page
        description: page
        in: query
        type: integer
      - name: limit
        description: limit
        in: query
        type: integer
      - name: filter
        description: filter
        in: query
        type: string
      - name: role
        description: role
        in: query
        type: string
      - name: orderBy
        description: Order by
        in: query
        type: string
    responses:
      200:
        description: Success
        schema:
          type: array
          items:
            $ref: '#/definitions/User'
        headers:
          $ref: '#/definitions/PaginationData'

  post:
    tags:
      - User
    description: Create a new user
    security:
        - bearerAuth: []
    produces:
      - application/json
    parameters:
      - name: body
        in: body
        schema:
          type: object
          properties:
            fullname:
              required: true
              type: string
            email:
              required: true
              type: string
            telephone:
              required: true
              type: string
            role:
              required: true
              type: string
            officeId:
              type: integer
            password:
              required: true
              type: string
            notificationsConsent:
              type: boolean
    responses:
      200:
        description: Subscription

/users/{userId}:
  get:
    tags:
      - User
    summary: Returns a user by ID
    description: Returns a user by ID
    security:
      - bearerAuth: []
    produces:
      - application/json
    parameters:
      - name: userId
        in: path
        required: true
        description: 'User ID'
        schema:
          type: integer
          format: int64
          minimum: 1
    responses:
      200:
        description: User

  put:
    tags:
      - User
    summary: Update a user
    description: Update user
    security:
      - bearerAuth: []
    produces:
      - application/json
    parameters:
      - name: userId
        in: path
        required: true
        description: 'User ID'
        schema:
          type: integer
          format: int64
          minimum: 1
      - name: fullname
        in: formData
        required: true
        type: string
      - name: email
        in: formData
        required: true
        type: string
      - name: telephone
        in: formData
        required: true
        type: string
    responses:
      200:
        description: User

  delete:
    tags:
      - User
    summary: Remove user by ID
    description: Remove user by ID
    security:
      - bearerAuth: []
    produces:
      - application/json
    parameters:
      - name: userId
        in: path
        required: true
        description: 'User ID'
        schema:
          type: integer
          format: int64
          minimum: 1
    responses:
      204:
        description: Null

/users/{userId}/password:
  post:
    tags:
      - User
    summary: Change user password
    description: Changer password
    security:
      - bearerAuth: []
    produces:
      - application/json
    parameters:
      - name: userId
        in: path
        required: true
        description: 'User ID'
        schema:
          type: integer
          format: int64
          minimum: 1
      - name: password
        in: formData
        required: true
        type: string
    responses:
      200:
        description: User

/users/{userId}/toggle_enable:
  put:
    tags:
      - User
    summary: Toggle enable
    description: Toggle enable
    security:
      - bearerAuth: []
    produces:
      - application/json
    parameters:
      - name: userId
        in: path
        required: true
        description: 'User ID'
        schema:
          type: integer
          format: int64
          minimum: 1
    responses:
      200:
        description: User

/roles:
  get:
    tags:
      - User
    description: List of available roles depending on authenticated user role
    security:
      - bearerAuth: []
    produces:
      - application/json
    responses:
      200:
        description: Success
        schema:
          type: array
          items:
            type: string

/authenticated_user:
  get:
    tags:
      - Auth
    summary: Return authenticated user
    security:
      - bearerAuth: []
    produces:
      - application/json
    responses:
      200:
        description: Success
        schema:
          $ref: '#/definitions/User'

/profile:
  put:
    tags:
      - Auth
    summary: Update user profile
    security:
      - bearerAuth: []
    produces:
      - application/json
    parameters:
      - name: body
        in: body
        schema:
          type: object
          properties:
            fullname:
              required: true
              type: string
            telehpone:
              required: true
              type: string
            picture:
              type: string
            preferredCurrency:
              type: string
            notificationsConsent:
              type: boolean
            address:
                type: object
                description: Address info
                properties:
                  localidad:
                    required: true
                    type: object
                    properties:
                      id:
                        required: true
                        type: number
                  description:
                    type: string
                    required: true
                  coordinates:
                    $ref: '#/definitions/Coordinates'
    responses:
      200:
        description: User

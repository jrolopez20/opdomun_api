/published_subscriptions:
  get:
    tags:
      - Subscription
    description: List of all published subscriptions
    produces:
      - application/json
    parameters:
      - name: page
        in: query
        type: integer
      - name: limit
        in: query
        type: integer
      - name: provincia
        in: query
        type: integer
      - name: municipio
        in: query
        type: integer
      - name: homeType
        in: query
        type: integer
      - name: minPrice
        in: query
        type: integer
      - name: maxPrice
        in: query
        type: integer
      - name: bedrooms
        in: query
        type: integer
      - name: bathrooms
        in: query
        type: integer
    responses:
      200:
        description: Success
        schema:
          type: array
          items:
            $ref: '#/definitions/Subscription'
        headers:
          $ref: '#/definitions/PaginationData'

/subscriptions:
  get:
    tags:
      - Subscription
    description: List of subscriptions that belongs to the authenticated user
    security:
      - bearerAuth: []
    produces:
      - application/json
    parameters:
      - name: page
        in: query
        type: integer
      - name: limit
        in: query
        type: integer
      - name: provincia
        in: query
        type: integer
      - name: municipio
        in: query
        type: integer
      - name: homeType
        in: query
        type: integer
      - name: minPrice
        in: query
        type: integer
      - name: maxPrice
        in: query
        type: integer
      - name: bedrooms
        in: query
        type: integer
      - name: bathrooms
        in: query
        type: integer
    responses:
      200:
        description: Success
        schema:
          type: array
          items:
            $ref: '#/definitions/Subscription'
        headers:
          $ref: '#/definitions/PaginationData'

  post:
    tags:
      - Subscription
    description: Create a subscription
    security:
      - bearerAuth: []
    produces:
      - application/json
    parameters:
      - name: body
        in: body
        schema:
          type: object
          properties:
            provincia:
              type: object
              properties:
                id:
                  required: true
                  type: number
            municipio:
              type: array
              items:
                $ref: '#/definitions/SimpleObject'
            homeType:
              type: array
              items:
                $ref: '#/definitions/SimpleObject'
            minPrice:
              $ref: '#/definitions/Price'
            maxPrice:
              $ref: '#/definitions/Price'
            bedrooms:
              type: integer
            bathrooms:
              type: integer
          required:
            - provincia
            - municipio
            - homeType
            - minPrice
            - maxPrice
            - bedrooms
            - bathrooms
    responses:
      201:
        schema:
          $ref: '#/definitions/Subscription'
        description: Subscription

/subscriptions/{subscriptionId}:
  get:
    tags:
      - Subscription
    summary: Returns a subscription by ID
    description: Returns a subscription by ID
    security:
      - bearerAuth: []
    produces:
      - application/json
    parameters:
      - name: subscriptionId
        in: path
        required: true
        description: 'Subscription ID'
        schema:
          type: integer
          format: int64
          minimum: 1
    responses:
      200:
        description: Subscription

  put:
    tags:
      - Subscription
    summary: Update a subscription
    description: Update subscription
    security:
      - bearerAuth: []
    produces:
      - application/json
    parameters:
      - name: subscriptionId
        in: path
        required: true
        description: 'Subscription ID'
        schema:
          type: integer
          format: int64
          minimum: 1
      - name: body
        in: body
        schema:
          type: object
          properties:
            provincia:
              type: object
              properties:
                id:
                  required: true
                  type: number
            municipio:
              type: array
              items:
                $ref: '#/definitions/SimpleObject'
            homeType:
              type: array
              items:
                $ref: '#/definitions/SimpleObject'
            minPrice:
              $ref: '#/definitions/Price'
            maxPrice:
              $ref: '#/definitions/Price'
            bedrooms:
              type: integer
            bathrooms:
              type: integer
          required:
            - provincia
            - municipio
            - homeType
            - minPrice
            - maxPrice
            - bedrooms
            - bathrooms
    responses:
      200:
        description: User

  delete:
    tags:
      - Subscription
    summary: Remove subscription by ID
    description: Remove subscription by ID
    security:
      - bearerAuth: []
    produces:
      - application/json
    parameters:
      - name: subscriptionId
        in: path
        required: true
        description: 'Subscription ID'
        schema:
          type: integer
          format: int64
          minimum: 1
    responses:
      204:
        description: Null
